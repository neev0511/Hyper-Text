<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hyper-Text</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/login_style.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    />

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-sm navbar-light"
      style="background-color: #f2f2f2"
    >
      <a href="#" class="navbar-brand font-weight-bold">Hyper-Text</a>
      <button
        class="navbar-toggler d-lg-none"
        type="button"
        data-toggle="collapse"
        data-target="#collapseNavbarid"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="collapseNavbarid">
        <ul
          class="navbar-nav justify-content-center ulli"
          style="margin-right: -20px; margin-top: 2px"
        >
          <li class="nav-item">
            <a href="index.html" class="nav-link font-weight-bold"
              >Home <span class="sr-only">(current)</span></a
            >
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link font-weight-bold">About</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link font-weight-bold">Contact </a>
          </li>
          <li class="nav-item" id="nav_login">
            <a href="login.html" class="nav-link font-weight-bold active"
              >Log In/Sign Up</a
            >
          </li>
          <li class="nav-item" style="margin-top: 7px">
            <div class="custom-control custom-switch mr-5" id="dark-mode">
              <img
                src="./assets/images/night_icon.png"
                alt=""
                id="selector"
                class="favicon"
              />
              <img
                src="./assets/images/light_icon.png"
                alt=""
                id="selector2"
                class="favicon"
                style="display: none"
              />
            </div>
          </li>
        </ul>
      </div>
    </nav>

    <main>
      <div class="container" id="content" style="margin-top: 30px">
        <div id="success"></div>
        <main class="form-signin w-100 m-auto">
          <form class="form" onsubmit="login()" id="login" action="#">
            <div class="login">
              <h1 class="h3 mb-3 fw-normal">Log In</h1>

              <div class="form-floating">
                <input
                  type="email"
                  class="form-control"
                  id="login_email"
                  placeholder="name@example.com"
                  required
                />
                <label for="floatingInput">Email address</label>
              </div>
              <div class="form-floating">
                <input
                  type="password"
                  class="form-control"
                  id="login_password"
                  placeholder="Password"
                  required
                />
                <label for="floatingPassword">Password</label>
              </div>
              <button class="w-100 btn btn-lg btn-primary" type="submit">
                Log in
              </button>
              <p class="">
                Don't have an account?
                <span
                  id="form_change_login"
                  style="
                    color: inherit;
                    cursor: pointer;
                    text-decoration: underline;
                  "
                  onclick="change_to_signup()"
                  >Sign Up</span
                >
              </p>
            </div>
          </form>

          <form class="form" onsubmit="signup()" id="signup" action="#">
            <div class="signup">
              <h1 class="h3 mb-3 fw-normal">Sign Up</h1>

              <div class="form-floating">
                <input
                  type="text"
                  class="form-control"
                  id="signup_name"
                  placeholder="Neev Jain"
                  required
                />
                <label for="floatingInput">Full Name</label>
              </div>
              <div class="form-floating">
                <input
                  type="email"
                  class="form-control"
                  id="signup_email"
                  placeholder="name@example.com"
                  required
                />
                <label for="floatingInput">Email address</label>
              </div>
              <div class="form-floating">
                <input
                  type="password"
                  class="form-control"
                  id="signup_password"
                  placeholder="Password"
                  required
                />
                <label for="floatingPassword">Password</label>
              </div>
              <button class="w-100 btn btn-lg btn-primary" type="submit">
                Sign Up
              </button>
              <p class="">
                Already have an account?
                <span
                  id="form_change_signup"
                  style="
                    color: inherit;
                    cursor: pointer;
                    text-decoration: underline;
                  "
                  onclick="change_to_login()"
                  >Log In</span
                >
              </p>
            </div>
          </form>
        </main>
      </div>
    </main>

    <footer
      class="footer-light pt-5 pb-4"
      style="background-color: #f2f2f2; margin-top: 30px"
    >
      <div class="container text-center text-med-left">
        <div class="row text-center text-md-left">
          <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
            <h5 class="text-uppercase mb-4 font-weight-bold text-warning">
              Hyper text
            </h5>
            <p>
              Lorem ipsum dolor sit, amet consectetur adipisicing elit. Maxime
              necessitatibus ex nihil hic ab quae maiores perferendis
              exercitationem nostrum voluptas. Doloribus quidem unde voluptatum
              vero sequi et minima, repudiandae facere.
            </p>
          </div>
          <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mt-3">
            <h5 class="text-uppercase mb-4 font-weight-bold text-warning">
              Products
            </h5>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 1</a
              >
            </p>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 2</a
              >
            </p>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 3</a
              >
            </p>
          </div>
          <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3">
            <h5 class="text-uppercase mb-4 font-weight-bold text-warning">
              Useful Links
            </h5>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 1</a
              >
            </p>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 2</a
              >
            </p>
            <p>
              <a href="#" class="footer-a" style="text-decoration: none"
                >Lnk 3</a
              >
            </p>
          </div>
        </div>
        <hr class="mb-4" />
        <div class="row align-items-center">
          <div class="col-md-7 col-lg-12">
            <p>Copyright 2022 All rights reserved</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script>
      $(document).ready(function () {
        dark_light();
        check_login();
      });

      function login() {
        const email = document.getElementById("login_email").value;
        const pass = document.getElementById("login_password").value;
        console.log("Redirecting");
        if (window.localStorage.getItem("login") === "false") {
          if (
            window.localStorage.getItem("email") === email &&
            window.localStorage.getItem("pass") === pass
          ) {
            document.getElementById("success").innerHTML =
              "<div class='alert alert-success' role='alert'>You have been successfully logged in!</div>";
            window.localStorage.setItem("login", "true");
            check_login();
          } else {
            document.getElementById("success").innerHTML =
              "<div class='alert alert-danger' role='alert'>Your email or password is incorrect</div>";
          }
        } else {
          document.getElementById("success").innerHTML =
            "<div class='alert alert-danger' role='alert'>You have already logged in</div>";
        }
      }

      function signup() {
        document.getElementById("success").innerHTML = "";
        const name = document.getElementById("signup_name").value;
        const email = document.getElementById("signup_email").value;
        const pass = document.getElementById("signup_password").value;
        window.localStorage.setItem("name", name);
        window.localStorage.setItem("pass", pass);
        window.localStorage.setItem("email", email);
        document.getElementById("success").innerHTML =
          "<div class='alert alert-success' role='alert'>You have been successfully signed up!</div>";
      }

      function change_to_login() {
        document.getElementById("success").innerHTML = "";
        console.log("change_to_login");
        document.getElementById("signup").style.display = "none";
        document.getElementById("login").style.display = "block";
      }
      function change_to_signup() {
        document.getElementById("success").innerHTML = "";
        if (window.localStorage.getItem("login") === "false") {
          console.log("change_to_login");
          document.getElementById("signup").style.display = "block";
          document.getElementById("login").style.display = "none";
        } else {
          document.getElementById("success").innerHTML =
            "<div class='alert alert-danger' role='alert'>You have already logged in</div>";
        }
      }
    </script>
  </body>
</html>
